(()=>{"use strict";const e=document.getElementById("employee-form"),t=document.getElementById("name"),n=document.getElementById("department"),a=document.getElementById("salary"),d=(document.getElementById("employees"),document.getElementById("update"),new class{constructor(e){this.url=e}async get(){const e=await fetch(this.url);return await e.json()}async post(e){const t=await fetch(this.url,{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});return await t.json()}async put(e,t){const n=await fetch(this.url+"/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});return await n.json()}async delete(e){return await fetch(this.url+"/"+e,"DELETE"),"Data successfully erased!"}}("http://localhost:3000/employees")),s=new class{constructor(){this.employeesList=document.getElementById("employees"),this.updateButton=document.getElementById("update"),this.nameInput=document.getElementById("name"),this.departmentInput=document.getElementById("deparment"),this.salaryInput=document.getElementById("salary")}addAllEmployeesToUI(e){let t="";e.forEach((e=>{t+=`\n            <tr>\n            <td>${e.name}</td>\n            <td>${e.department}</td>\n            <td>${e.salary}</td>\n            <td>${e.id}</td>\n            <td><a href="#" id="update-employee" class="btn btn-danger">Update</a></td>\n            <td><a href="#" id="delete-employee" class="btn btn-danger">Delete</a></td>\n            </tr>\n            `})),this.employeesList.innerHTML=t}addEmployeeToUI(e){this.employeesList.innerHTML+=`\n        <tr>\n        <td>${e.name}</td>\n        <td>${e.department}</td>\n        <td>${e.salary}</td>\n        <td>${e.id}</td>\n        <td><a href="#" id="update-employee" class="btn btn-danger">Update</a></td>\n        <td><a href="#" id="delete-employee" class="btn btn-danger">Delete</a></td>\n        </tr>\n        `}clearInputs(){this.nameInput.value="",this.departmentInput.value="",this.salaryInput.value=""}};document.addEventListener("DOMContentLoaded",(function(){d.get().then((e=>{s.addAllEmployeesToUI(e)})).catch((e=>console.err(e)))})),e.addEventListener("submit",(function(e){const l=t.value.trim(),o=n.value.trim(),r=a.value.trim();d.post({name:l,department:o,salary:Number(r)}).then((e=>{s.addEmployeeToUI(e)})).catch((e=>console.error(e))),s.clearInputs(),e.preventDefault()}))})();